<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLP Official Store - Loja Virtual</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        
        /* Animação suave para o modal */
        .modal {
            transition: opacity 0.25s ease;
        }
        body.modal-active {
            overflow-y: hidden;
        }
        
        /* Estilo para o loader do CEP */
        .loader {
            border-top-color: #3498db;
            -webkit-animation: spinner 1.5s linear infinite;
            animation: spinner 1.5s linear infinite;
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-40">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa-solid fa-bag-shopping text-indigo-600 text-2xl"></i>
                <h1 class="text-2xl font-bold text-gray-800 tracking-tight">GLP<span class="text-indigo-600">Official</span></h1>
            </div>
            <nav class="hidden md:flex space-x-6 font-medium text-gray-600">
                <a href="#" class="hover:text-indigo-600 transition">Início</a>
                <a href="#produtos" class="hover:text-indigo-600 transition">Produtos</a>
                <a href="#footer" class="hover:text-indigo-600 transition">Contato</a>
            </nav>
            <button class="bg-indigo-600 text-white px-5 py-2 rounded-full font-semibold hover:bg-indigo-700 transition shadow-lg flex items-center gap-2">
                <i class="fa-solid fa-cart-shopping"></i> <span class="hidden sm:inline">Carrinho (0)</span>
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-indigo-900 text-white py-16">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Ofertas Exclusivas GLP</h2>
            <p class="text-lg text-indigo-200 mb-8 max-w-2xl mx-auto">Encontre os melhores produtos com entrega rápida para todo o Brasil. Pague com PIX e ganhe 5% de desconto.</p>
            <a href="#produtos" class="bg-white text-indigo-900 px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition inline-block">Ver Produtos</a>
        </div>
    </section>

    <!-- Lista de Produtos -->
    <section id="produtos" class="py-16 container mx-auto px-4">
        <div class="flex items-center mb-10">
            <h3 class="text-3xl font-bold text-gray-800 border-l-4 border-indigo-600 pl-4">Nossos Produtos</h3>
        </div>

        <!-- Grid de Produtos (Gerado via JS) -->
        <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            <!-- Os produtos serão inseridos aqui pelo JavaScript -->
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer" class="bg-gray-900 text-gray-300 pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <!-- Coluna 1 -->
                <div>
                    <h4 class="text-xl font-bold text-white mb-4">GLP Official Store</h4>
                    <p class="text-sm text-gray-400 mb-4">
                        Sua loja de confiança para produtos de qualidade. Entregamos em todo o território nacional com segurança e rapidez.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fa-brands fa-instagram text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fa-brands fa-facebook text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fa-brands fa-whatsapp text-2xl"></i></a>
                    </div>
                </div>

                <!-- Coluna 2 -->
                <div>
                    <h4 class="text-xl font-bold text-white mb-4">Atendimento</h4>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center gap-2"><i class="fa-regular fa-envelope text-indigo-400"></i> contato@glpofficial.com</li>
                        <li class="flex items-center gap-2"><i class="fa-solid fa-headset text-indigo-400"></i> sac@glpofficial.com</li>
                        <li class="flex items-center gap-2"><i class="fa-solid fa-phone text-indigo-400"></i> (11) 4648-2760</li>
                    </ul>
                </div>

                <!-- Coluna 3 -->
                <div>
                    <h4 class="text-xl font-bold text-white mb-4">Informações Legais</h4>
                    <p class="text-sm mb-2">CNPJ: 24.011.598/0001-82</p>
                    <p class="text-sm mb-4">Endereço: São Paulo, SP</p>
                    <div class="flex gap-2">
                        <i class="fa-brands fa-cc-mastercard text-2xl"></i>
                        <i class="fa-brands fa-cc-visa text-2xl"></i>
                        <i class="fa-brands fa-pix text-2xl"></i>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 text-center text-sm text-gray-500">
                &copy; 2024 GLP Official. Todos os direitos reservados.
            </div>
        </div>
    </footer>

    <!-- MODAL DE CHECKOUT -->
    <div id="checkout-modal" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50">
        <!-- Overlay (Fundo escuro) -->
        <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50"></div>
        
        <!-- Container do Modal -->
        <div class="modal-container bg-white w-11/12 md:max-w-2xl mx-auto rounded-xl shadow-2xl z-50 overflow-y-auto max-h-[90vh]">
            
            <!-- Cabeçalho do Modal -->
            <div class="modal-content py-4 text-left px-6">
                <div class="flex justify-between items-center pb-3 border-b border-gray-200">
                    <p class="text-2xl font-bold text-gray-800">Finalizar Compra</p>
                    <div class="modal-close cursor-pointer z-50 p-2 hover:bg-gray-100 rounded-full" onclick="toggleModal('checkout-modal')">
                        <i class="fa-solid fa-times text-gray-600 text-lg"></i>
                    </div>
                </div>

                <!-- Resumo do Produto Selecionado -->
                <div id="modal-product-summary" class="bg-indigo-50 p-4 rounded-lg my-4 flex items-center gap-4">
                    <!-- Preenchido via JS -->
                </div>

                <!-- Formulário -->
                <form id="checkout-form" onsubmit="processPayment(event)">
                    
                    <!-- Dados Pessoais -->
                    <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wide mb-3 mt-2">Dados Pessoais</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div class="col-span-1 md:col-span-2">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="name">Nome Completo</label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500" id="name" type="text" required placeholder="Seu nome">
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="email">E-mail</label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500" id="email" type="email" required placeholder="seu@email.com">
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="phone">Telefone / WhatsApp</label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500" id="phone" type="tel" required placeholder="(00) 00000-0000">
                        </div>
                    </div>

                    <!-- Endereço -->
                    <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wide mb-3 border-t pt-4">Endereço de Entrega</h4>
                    
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="cep">CEP <span class="text-xs font-normal text-gray-500">(Digite para buscar)</span></label>
                        <div class="relative">
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500" id="cep" type="text" maxlength="9" placeholder="00000-000" onkeyup="mascaraCep(this); buscaCep(this.value)" required>
                            <div id="cep-loader" class="loader ease-linear rounded-full border-2 border-t-2 border-gray-200 h-5 w-5 absolute right-3 top-3 hidden"></div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div class="md:col-span-2">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="rua">Rua</label>
                            <input class="bg-gray-100 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none" id="rua" type="text" readonly>
                        </div>
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="numero">Número</label>
                            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500" id="numero" type="text" required>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="bairro">Bairro</label>
                            <input class="bg-gray-100 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none" id="bairro" type="text" readonly>
                        </div>
                        <div class="flex gap-2">
                            <div class="w-2/3">
                                <label class="block text-gray-700 text-sm font-bold mb-2" for="cidade">Cidade</label>
                                <input class="bg-gray-100 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none" id="cidade" type="text" readonly>
                            </div>
                            <div class="w-1/3">
                                <label class="block text-gray-700 text-sm font-bold mb-2" for="uf">UF</label>
                                <input class="bg-gray-100 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none" id="uf" type="text" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Botão de Ação -->
                    <div class="flex justify-end pt-4 border-t mt-6">
                        <button type="button" class="px-4 py-2 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2" onclick="toggleModal('checkout-modal')">Cancelar</button>
                        <button type="submit" class="modal-close px-6 py-2 bg-green-600 rounded-lg text-white font-bold hover:bg-green-700 shadow-lg flex items-center gap-2">
                            <i class="fa-brands fa-pix"></i> Pagar com PIX
                        </button>
                    </div>
                </form>

                <!-- TELA DE SUCESSO / PIX (Inicialmente Oculta) -->
                <div id="pix-payment-screen" class="hidden text-center py-6">
                    <div class="text-green-500 text-5xl mb-4">
                        <i class="fa-regular fa-circle-check"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Pedido Realizado!</h3>
                    <p class="text-gray-600 mb-6">Escaneie o QR Code abaixo para finalizar o pagamento via PIX.</p>
                    
                    <div class="flex justify-center mb-6">
                        <!-- Placeholder QR Code -->
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=PagamentoGLPOfficial" alt="QR Code Pix" class="border-4 border-gray-200 rounded-lg">
                    </div>

                    <div class="bg-gray-100 p-4 rounded mb-6 break-all">
                        <p class="text-xs text-gray-500 mb-1 font-bold">Copia e Cola:</p>
                        <code id="pix-code" class="text-xs text-gray-700">00020126360014BR.GOV.BCB.PIX0114240115980001825204000053039865802BR5913GLP OFFICIAL6009SAO PAULO62070503***6304E2CA</code>
                    </div>

                    <button onclick="copyPix()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-700 transition w-full mb-3">
                        <i class="fa-regular fa-copy"></i> Copiar Código
                    </button>
                    <button onclick="toggleModal('checkout-modal'); resetForm()" class="text-gray-500 underline text-sm hover:text-gray-700">
                        Fechar Janela
                    </button>
                </div>

            </div>
        </div>
    </div>

    <!-- JavaScript Logic -->
    <script>
        // 1. Dados dos Produtos
        const products = [
            { id: 1, name: "Smartwatch Elite Pro", price: 299.90, img: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=400&q=80" },
            { id: 2, name: "Fone Bluetooth XBass", price: 149.90, img: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=400&q=80" },
            { id: 3, name: "Câmera de Segurança Wifi", price: 189.00, img: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?auto=format&fit=crop&w=400&q=80" },
            { id: 4, name: "Kit Teclado e Mouse Gamer", price: 220.00, img: "https://images.unsplash.com/photo-1618384887929-16ec33fab9ef?auto=format&fit=crop&w=400&q=80" },
            { id: 5, name: "Ring Light Profissional 12pol", price: 89.90, img: "https://images.unsplash.com/photo-1634733988138-bf2c3a2a13fa?auto=format&fit=crop&w=400&q=80" },
            { id: 6, name: "Power Bank 20000mAh", price: 110.00, img: "https://images.unsplash.com/photo-1609091839311-d5365f9ff1c5?auto=format&fit=crop&w=400&q=80" },
            { id: 7, name: "Caixa de Som à Prova D'água", price: 159.90, img: "https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?auto=format&fit=crop&w=400&q=80" },
            { id: 8, name: "Suporte Veicular Magnético", price: 39.90, img: "https://images.unsplash.com/photo-1605236453806-6ff36851218e?auto=format&fit=crop&w=400&q=80" },
            { id: 9, name: "Lâmpada Inteligente RGB", price: 59.90, img: "https://images.unsplash.com/photo-1550989460-0adf9ea622e2?auto=format&fit=crop&w=400&q=80" },
            { id: 10, name: "Mousepad Extra Grande", price: 45.00, img: "https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&w=400&q=80" },
        ];

        // 2. Renderizar Produtos na Tela
        const productGrid = document.getElementById('product-grid');
        
        products.forEach(product => {
            const productCard = `
                <div class="bg-white rounded-xl shadow-lg hover:shadow-2xl transition duration-300 overflow-hidden border border-gray-100 flex flex-col">
                    <div class="relative">
                        <img src="${product.img}" alt="${product.name}" class="w-full h-48 object-cover">
                        <span class="absolute top-2 right-2 bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded">OFERTA</span>
                    </div>
                    <div class="p-6 flex flex-col flex-grow">
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">${product.name}</h3>
                        <div class="flex items-center mb-4">
                            <i class="fa-solid fa-star text-yellow-400 text-sm"></i>
                            <i class="fa-solid fa-star text-yellow-400 text-sm"></i>
                            <i class="fa-solid fa-star text-yellow-400 text-sm"></i>
                            <i class="fa-solid fa-star text-yellow-400 text-sm"></i>
                            <i class="fa-solid fa-star-half-stroke text-yellow-400 text-sm"></i>
                            <span class="text-gray-400 text-xs ml-2">(42)</span>
                        </div>
                        <div class="mt-auto">
                            <p class="text-gray-500 text-sm line-through">R$ ${(product.price * 1.3).toFixed(2).replace('.', ',')}</p>
                            <p class="text-2xl font-bold text-gray-900 mb-4">R$ ${product.price.toFixed(2).replace('.', ',')}</p>
                            <button onclick="openCheckout(${product.id})" class="w-full bg-green-600 text-white font-bold py-2 px-4 rounded hover:bg-green-700 transition flex justify-center items-center gap-2">
                                <i class="fa-solid fa-cart-plus"></i> Comprar Agora
                            </button>
                        </div>
                    </div>
                </div>
            `;
            productGrid.innerHTML += productCard;
        });

        // 3. Lógica do Modal
        let currentProduct = null;

        function toggleModal(modalID) {
            const modal = document.getElementById(modalID);
            modal.classList.toggle('opacity-0');
            modal.classList.toggle('pointer-events-none');
            document.body.classList.toggle('modal-active');
            
            // Se estiver fechando, reseta para a tela de form
            if (modal.classList.contains('opacity-0')) {
                setTimeout(() => {
                    document.getElementById('checkout-form').classList.remove('hidden');
                    document.getElementById('pix-payment-screen').classList.add('hidden');
                }, 300);
            }
        }

        function openCheckout(productId) {
            currentProduct = products.find(p => p.id === productId);
            
            // Preencher resumo no modal
            const summaryDiv = document.getElementById('modal-product-summary');
            summaryDiv.innerHTML = `
                <img src="${currentProduct.img}" class="w-16 h-16 rounded object-cover border border-gray-200">
                <div>
                    <h5 class="font-bold text-gray-800">${currentProduct.name}</h5>
                    <p class="text-indigo-600 font-bold">R$ ${currentProduct.price.toFixed(2).replace('.', ',')}</p>
                </div>
            `;
            
            toggleModal('checkout-modal');
        }

        // 4. API ViaCEP e Máscaras
        function mascaraCep(input) {
            let value = input.value.replace(/\D/g, "");
            if (value.length > 5) {
                value = value.substring(0, 5) + "-" + value.substring(5, 8);
            }
            input.value = value;
        }

        function buscaCep(valor) {
            var cep = valor.replace(/\D/g, '');

            if (cep != "") {
                var validacep = /^[0-9]{8}$/;

                if(validacep.test(cep)) {
                    // Mostra loader
                    document.getElementById('cep-loader').classList.remove('hidden');
                    
                    // Preenche campos com "..." enquanto consulta
                    document.getElementById('rua').value="...";
                    document.getElementById('bairro').value="...";
                    document.getElementById('cidade').value="...";
                    document.getElementById('uf').value="...";

                    // Consulta webservice viaCEP
                    var script = document.createElement('script');
                    script.src = 'https://viacep.com.br/ws/'+ cep + '/json/?callback=meu_callback';
                    document.body.appendChild(script);
                }
            }
        }

        function meu_callback(conteudo) {
            document.getElementById('cep-loader').classList.add('hidden');
            if (!("erro" in conteudo)) {
                //Atualiza os campos com os valores.
                document.getElementById('rua').value=(conteudo.logradouro);
                document.getElementById('bairro').value=(conteudo.bairro);
                document.getElementById('cidade').value=(conteudo.localidade);
                document.getElementById('uf').value=(conteudo.uf);
                // Foca no número
                document.getElementById('numero').focus();
            } else {
                alert("CEP não encontrado.");
                document.getElementById('rua').value="";
                document.getElementById('bairro').value="";
                document.getElementById('cidade').value="";
                document.getElementById('uf').value="";
            }
        }

        // 5. Processar Pagamento e Mostrar PIX
        function processPayment(e) {
            e.preventDefault();
            
            // Simulação de processamento
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Processando...';
            btn.disabled = true;

            setTimeout(() => {
                // Esconde form, mostra PIX
                document.getElementById('checkout-form').classList.add('hidden');
                document.getElementById('pix-payment-screen').classList.remove('hidden');
                btn.innerHTML = originalText;
                btn.disabled = false;
            }, 1500);
        }

        function copyPix() {
            var copyText = document.getElementById("pix-code");
            navigator.clipboard.writeText(copyText.innerText).then(function() {
                alert("Código PIX copiado para a área de transferência!");
            }, function(err) {
                console.error('Erro ao copiar: ', err);
            });
        }

        function resetForm() {
            document.getElementById('checkout-form').reset();
        }

        // Fechar modal ao clicar fora
        document.querySelector('.modal-overlay').addEventListener('click', () => {
             toggleModal('checkout-modal');
        });
    </script>
</body>
</html>
